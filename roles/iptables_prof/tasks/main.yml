- name: Instala pacotes
  ansible.builtin.apt:
    pkg:
      - ansible
  when: ansible_os_family == 'Debian'

- name: Cria diret√≥rio
  ansible.builtin.file:
    state: directory
    path: /etc/ansible
    owner: root
    group: root
    mode: '0755'
  when: ansible_os_family == 'Debian'

- name: Define arquivo hosts
  ansible.builtin.copy:
    content: |
      [all]
      debian12-aluno ansible_host=192.168.122.31
    dest: /etc/ansible/hosts
    owner: root
    group: root
    mode: '0644'
  when: ansible_os_family == 'Debian'

- name: Cria firewall.yml
  ansible.builtin.copy:
    src: firewall.yml
    dest: /etc/ansible/firewall.yml
    owner: root
    group: root
    mode: '0644'
  when: ansible_os_family == 'Debian'
